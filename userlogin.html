<!DOCTYPE html>
<html>
<head>
	<title>AVENTURA</title>
	<link rel="stylesheet" type="text/css" href="style.css">
	<link href="https://fonts.googleapis.com/css?family=Montserrat:400,500" rel="stylesheet">
	<link rel="shortcut icon" href="images/favicon.png">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
</head>
<body class="formbg">
	<div class="full-container">
		<p class="heading" style="color: white;">Aventura</p>
		<div class="center-container">
			<div class="formWindow" id="userLoginWindow">
			<form action="login.php" method="post" onsubmit="return validate()" id ="frm">
				<p class="label"><span>Email</span> <input class="userFormInput" type="email" name="userEmail" id="userEmail" placeholder="Enter Email "> </p>
				<p class="label"><span>Password</span> <input class="userFormInput" type="password" name="userPassword" id="userPassword" placeholder="Enter Password" > </p>
				<p style="color:  #15a18ef4; font-family: Tahoma; font-size: 14px;" class="forgotPasswd"> Forgot Password?</p>
				<p> <button type="submit" name="loginbtn" value="Login" class="yellowBtn" >Submit</button></p>
				<p class="formText">Don't have an account? Click to <a href=register.html style="text-decoration: none; color: #15a18ef4;">Sign Up </a></p>
			</form>
			</div>
		</div>
	</div>
	<script>
		document.getElementById("frm").addEventListener("submit",(event) =>{
			if (!validate()){
				event.preventDefault()
			}
		})
        function validate( ) {
           console.log("pk")

            const email = sign_in.email.value;
            const pwd = sign_in.password.value;
			let ans = true;
            const emailRegex = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
            const passwordRegex = /^(?=.*[a-zA-Z0-9]).{8,}$/;
            // (?=.*\d)

            let errorMessage = "";

            if ( !emailRegex.test( email ) ) {
				console.log("error")
				ans = false;
                errorMessage = "Invalid email format. Please enter a valid email address.\n";
                document.getElementsByClassName( "userFormInput" )[0].innerHTML = errorMessage;
                document.getElementById( "userEmail" ).style.outline = "2px solid red";
            } else {
                document.getElementsByClassName( "userFormInput" )[0].innerHTML = "";
                document.getElementById( "userEmail" ).style.outline = "2px solid green";
            }

            if ( !passwordRegex.test( pwd ) ) {
				console.log("error")

				ans = false;
				errorMessage = "Invalid password. Password must be at least 8 characters long and contain a lowercase letter, an uppercase letter, a number, and a special character.\n";
                document.getElementsByClassName( "userFormInput" )[1].innerHTML = errorMessage;
                document.getElementById( "userPassword" ).style.outline = "2px solid red";
            } else {
                document.getElementsByClassName( "userFormInput" )[1].innerHTML = "";
                document.getElementById( "userPassword" ).style.outline = "2px solid green";
            }
			return ans;
        }
    </script>
</body>
</html>